let type="";function $(e){return document.querySelector(e)}function snackbar(e){$("#snackbarMsg").innerText=e,$("#snackbar").style.bottom="20px",setTimeout(()=>{$("#snackbar").style.bottom="-48px"},4e3)}[].forEach.call(document.querySelectorAll(".memberCard"),e=>{if(e.dataset.id){let t=e.dataset.id,a=e.dataset.name,s=$(`#accept${t}`),d=$(`#fail${t}`),o=$(`#feedback${t}`);s.addEventListener("click",()=>{o.value?(type="pass",$("body").classList.add("inactive"),$("#txt").innerHTML=`Are you sure you would like to <b>APPROVE</b> ${a}'s portfolio?`,$("#dialog").dataset.student=t):(o.focus(),snackbar("You must provide feedback"))}),d.addEventListener("click",()=>{o.value?(type="fail",$("body").classList.add("inactive"),$("#txt").innerHTML=`Are you sure you would like to <b>DECLINE</b> ${a}'s portfolio?`,$("#dialog").dataset.student=t):(o.focus(),snackbar("You must provide feedback"))})}}),$("#accept").addEventListener("click",()=>{let e=$("#dialog").dataset.student;console.log(e),AjaxRequest("includes/review.php",{active:type,feedback:$(`#feedback${e}`).value,userId:e}).then(t=>{if("Review sent"==t||"Portfolio passed"==t){type="",$("#dialog").dataset.student="-1",$("body").classList.remove("inactive");let a=$(`[data-id="${e}"]`);a.parentNode.removeChild(a),snackbar(t)}else snackbar(t)})}),$("#cancel").addEventListener("click",()=>{type="",$("body").classList.remove("inactive"),$("#dialog").dataset.student="-1"});